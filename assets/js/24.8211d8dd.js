(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{401:function(t,a,e){"use strict";e.r(a);var l=e(10),i=Object(l.a)({},(function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{"data-editable-line":"1",id:"源码解读-vue-compile-core"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#源码解读-vue-compile-core"}},[t._v("#")]),t._v(" 源码解读@vue/compile-core")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{attrs:{"data-editable-line":"3"}},[e("code",[t._v("开始时间：2020年1月17日09:53:36\n版本：@vue/compile-core 3.0.0-alpha.2\n源码：https://github.com/vuejs/vue/tree/dev/packages/compiler-core#readme    \n")])])]),e("h2",{attrs:{"data-editable-line":"7",id:"目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目录"}},[t._v("#")]),t._v(" 目录")]),t._v(" "),e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("|-- package.json\n|-- api-extractor.json               // 一个json文件，不知干啥\n|-- index.js                         // dev-> compile-core.cjs.js、 \n|-- LICENSE                          //\n|-- README.md                        //\n|-- package.json                     //\n|-- __test__                         // 测试\n|-- dist                             // 打包出来的文件\n-- src                               //\n    |-- ast.ts                       //\n    |-- codegen.ts                   //\n    |-- compile.ts                   //\n    |-- errors.ts                    //\n    |-- index.ts                     //\n    |-- options.ts                   //\n    |-- parse.ts                     //\n    |-- runtimeHelpers.ts            //\n    |-- transform.ts                 //\n    |-- transforms                   //\n    |   |-- hoistStatic.ts           //\n    |   |-- transformElement.ts      //\n    |   |-- transformExpression.ts   //\n    |   |-- transformSlotOutlet.ts   //\n    |   |-- transformText.ts         //\n    |   |-- vBind.ts                 //\n    |   |-- vFor.ts                  //\n    |   |-- vIf.ts                   //\n    |   |-- vModel.ts                //\n    |   |-- vOn.ts                   //\n    |   |-- vOnce.ts                 //\n    |   |-- vSlot.ts                 //\n    |-- utils.ts                     //\n")])])]),e("h2",{attrs:{"data-editable-line":"44",id:"对外暴露文件index-ts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#对外暴露文件index-ts"}},[t._v("#")]),t._v(" 对外暴露文件index.ts")]),t._v(" "),e("p",{attrs:{"data-editable-line":"46"}},[t._v("暴露：")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"47"}},[e("li",{attrs:{"data-editable-line":"47"}},[e("p",{attrs:{"data-editable-line":"47"}},[e("strong",[t._v("./compile")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"48"}},[e("li",{attrs:{"data-editable-line":"48"}},[e("code",[t._v("baseCompile")]),t._v("\n同时也暴露低等级API和类型声明")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"51"}},[e("p",{attrs:{"data-editable-line":"51"}},[e("strong",[t._v("./options")]),t._v(" "),e("code",[t._v("CompilerOptions")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"53"}},[e("li",{attrs:{"data-editable-line":"53"}},[e("code",[t._v("ParserOptions")])]),t._v(" "),e("li",{attrs:{"data-editable-line":"54"}},[e("code",[t._v("TransformOptions")])]),t._v(" "),e("li",{attrs:{"data-editable-line":"55"}},[e("code",[t._v("CodegenOptions")])])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"57"}},[e("p",{attrs:{"data-editable-line":"57"}},[e("strong",[t._v("./parse")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"58"}},[e("li",{attrs:{"data-editable-line":"58"}},[e("code",[t._v("baseParser")])]),t._v(" "),e("li",{attrs:{"data-editable-line":"59"}},[e("code",[t._v("TextNode")])])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"61"}},[e("p",{attrs:{"data-editable-line":"61"}},[e("strong",[t._v("./transform")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"62"}},[e("li",{attrs:{"data-editable-line":"62"}},[t._v("transform")]),t._v(" "),e("li",{attrs:{"data-editable-line":"63"}},[t._v("createStructuralDirectiveTransform")]),t._v(" "),e("li",{attrs:{"data-editable-line":"64"}},[t._v("TransformContext")]),t._v(" "),e("li",{attrs:{"data-editable-line":"65"}},[t._v("NodeTransform")]),t._v(" "),e("li",{attrs:{"data-editable-line":"66"}},[t._v("StructuralDirectiveTransform")]),t._v(" "),e("li",{attrs:{"data-editable-line":"67"}},[t._v("DirectiveTransform")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"68"}},[e("p",{attrs:{"data-editable-line":"68"}},[e("strong",[t._v("./codegen")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"69"}},[e("li",{attrs:{"data-editable-line":"69"}},[t._v("generate")]),t._v(" "),e("li",{attrs:{"data-editable-line":"70"}},[t._v("CodegenContext")]),t._v(" "),e("li",{attrs:{"data-editable-line":"71"}},[t._v("codegenResult")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"72"}},[e("p",{attrs:{"data-editable-line":"72"}},[e("strong",[t._v("errors")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"73"}},[e("li",{attrs:{"data-editable-line":"73"}},[t._v("ErrorCodes")]),t._v(" "),e("li",{attrs:{"data-editable-line":"74"}},[t._v("CoreCompilerError")]),t._v(" "),e("li",{attrs:{"data-editable-line":"75"}},[t._v("CompilerError")]),t._v(" "),e("li",{attrs:{"data-editable-line":"76"}},[t._v("createCompilerError")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"77"}},[e("p",{attrs:{"data-editable-line":"77"}},[e("strong",[t._v("ast")]),t._v(" 语法树，全部暴露")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"78"}},[e("li",{attrs:{"data-editable-line":"78"}},[t._v("全部")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"79"}},[e("p",{attrs:{"data-editable-line":"79"}},[e("strong",[t._v("utils")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"80"}},[e("li",{attrs:{"data-editable-line":"80"}},[t._v("全部")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"81"}},[e("p",{attrs:{"data-editable-line":"81"}},[e("strong",[t._v("runtimeHelpers")])]),t._v(" "),e("ul",{attrs:{"data-editable-line":"82"}},[e("li",{attrs:{"data-editable-line":"82"}},[t._v("registerRuntimeHelpers")])])])]),t._v(" "),e("p",{attrs:{"data-editable-line":"84"}},[t._v("暴露转换，以便高阶编译器可以导入和扩展它们")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"86"}},[e("li",{attrs:{"data-editable-line":"86"}},[e("strong",[t._v("transform/vModel")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"87"}},[e("li",{attrs:{"data-editable-line":"87"}},[t._v("transformModel")])])]),t._v(" "),e("li",{attrs:{"data-editable-line":"88"}},[e("strong",[t._v("transform/vOn")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"89"}},[e("li",{attrs:{"data-editable-line":"89"}},[t._v("transformOn")])])])]),t._v(" "),e("p",{attrs:{"data-editable-line":"91"}},[t._v("实用程序，但需要重写类型以避免dts依赖于@vue/shared")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"93"}},[e("li",{attrs:{"data-editable-line":"93"}},[e("strong",[t._v("@vue/shared")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"94"}},[e("li",{attrs:{"data-editable-line":"94"}},[t._v("generateCodeFrame")])])])]),t._v(" "),e("h2",{attrs:{"data-editable-line":"97",id:"主要功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主要功能"}},[t._v("#")]),t._v(" 主要功能")]),t._v(" "),e("ul",{attrs:{"data-editable-line":"99"}},[e("li",{attrs:{"data-editable-line":"99"}},[t._v("AST vue语法树,虚拟出来的dom")])]),t._v(" "),e("h3",{attrs:{"data-editable-line":"101",id:"编译优化"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#编译优化"}},[t._v("#")]),t._v(" 编译优化")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("\nnew Vue ---\x3e init ---\x3e $mount ---\x3e $compile ---\x3e render ---\x3e vnode ---\x3e patch ---\x3e DOM  \n\n\n")])])])])}),[],!1,null,null,null);a.default=i.exports}}]);